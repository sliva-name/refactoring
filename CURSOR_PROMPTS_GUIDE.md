# ü§ñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Cursor AI Prompts

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ](#—á—Ç–æ-—ç—Ç–æ-—Ç–∞–∫–æ–µ)
2. [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å](#–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–º–ø—Ç–æ–≤)
4. [–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
5. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
6. [–ü—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∏–º–µ—Ä—ã)

---

## –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ

Laravel Code Improver —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **–≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Cursor AI**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.

### –ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:

```
refactoring/cursor-prompts/
‚îú‚îÄ‚îÄ MASTER_PROMPT.md                          # –ú–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω –≤—Å–µ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ prompts-index.json                        # –ò–Ω–¥–µ–∫—Å –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ app_Http_Controllers_ProductController.md # –ü—Ä–æ–º–ø—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ app_Models_User.md
‚îî‚îÄ‚îÄ app_Services_OrderService.md
```

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ü—Ä–æ–º–ø—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ --refactor-dir
npm start -- --path=/project --refactor-dir=refactoring

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úì Reports created
# ‚úì Cursor prompts generated!
# üìù Usage:
#    1. Open: cursor refactoring/cursor-prompts/MASTER_PROMPT.md
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

```bash
# –î–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥ --generate-prompts
npm start -- --path=/project --generate-prompts
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –î–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
# –ê–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ + –ø—Ä–æ–º–ø—Ç
npm start -- \
  --file=app/Http/Controllers/ProductController.php \
  --refactor-dir=refactoring
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

### MASTER_PROMPT.md

–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å –æ–±—â–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π:

```markdown
# üöÄ Master Plan - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤: 42
- üî¥ Critical: 5 —Ñ–∞–π–ª–æ–≤
- üü† Major: 18 —Ñ–∞–π–ª–æ–≤

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –§–∞–∑–∞ 1: Security (Critical) üîí
1. `app/Http/Controllers/OrderController.php` - 8 –ø—Ä–æ–±–ª–µ–º
   - SQL Injection, Mass Assignment

### –§–∞–∑–∞ 2: Architecture & Performance (Major) ‚ö°
...

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
- –ü–æ—Ä—è–¥–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
```

### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç:

```markdown
# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –≤ app/Http/Controllers/ProductController.php

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL

## üìã –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### üîí SQL Injection Risk
**–°—Ç—Ä–æ–∫–∞ 45:**
- Potential SQL Injection: DB::raw() with variables
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Use parameter binding

### ‚ö° N Plus One Query
**–°—Ç—Ä–æ–∫–∞ 62:**
- Relationship access inside loop without eager loading
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Use eager loading with ->with(['relationName'])

## üéØ –ó–∞–¥–∞—á–∏:
1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `app/Http/Controllers/ProductController.php`
2. –ò—Å–ø—Ä–∞–≤—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–ª–µ–¥—É—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –≤—ã—à–µ
3. –°–ª–µ–¥—É–π –ø—Ä–∏–Ω—Ü–∏–ø–∞–º: SOLID, PSR-12, Laravel best practices

## üìö –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
[–î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–±–ª–µ–º]
```

---

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü–æ—Ä—è–¥–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. Security (Critical)                          ‚îÇ
‚îÇ    ‚îú‚îÄ SQL Injection                             ‚îÇ
‚îÇ    ‚îú‚îÄ XSS vulnerabilities                       ‚îÇ
‚îÇ    ‚îî‚îÄ Mass Assignment                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 2. N+1 Queries (Critical)                       ‚îÇ
‚îÇ    ‚îî‚îÄ –î–æ–±–∞–≤–∏—Ç—å eager loading                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 3. –ë–û–õ–¨–®–ò–ï –ú–ï–¢–û–î–´ (Major)                       ‚îÇ
‚îÇ    ‚îî‚îÄ –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –º–µ—Ç–æ–¥—ã              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 4. ‚ö° –ü–û–í–¢–û–†–ù–´–ô –ê–ù–ê–õ–ò–ó ‚ö°                        ‚îÇ
‚îÇ    ‚îî‚îÄ npm start -- --file=... (–ø—Ä–æ–≤–µ—Ä–∫–∞)       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 5. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (–ø–æ—Å–ª–µ —à–∞–≥–∞ 3!)           ‚îÇ
‚îÇ    ‚îî‚îÄ –ò–∑–≤–ª–µ—á—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 6. Architecture (Major)                         ‚îÇ
‚îÇ    ‚îî‚îÄ Service Layer, Repository                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 7. Code Smells (Minor)                          ‚îÇ
‚îÇ    ‚îî‚îÄ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—á–µ–º—É —Ç–∞–∫–æ–π –ø–æ—Ä—è–¥–æ–∫?

1. **Security** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
2. **N+1** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–ë–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã** - –°–ù–ê–ß–ê–õ–ê —Ä–∞–∑–±–∏–≤–∞–µ–º
4. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
5. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü–û–¢–û–ú –∏—â–µ–º –¥—É–±–ª–∏ (–æ–Ω–∏ –º–æ–≥–ª–∏ –∏—Å—á–µ–∑–Ω—É—Ç—å!)
6. **Architecture** - —É–ª—É—á—à–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
7. **Code Smells** - –ø–æ–ª–∏—Ä—É–µ–º

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### üö® –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã + –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
```php
// –í —Ñ–∞–π–ª–µ –Ω–∞–π–¥–µ–Ω–æ:
// - method_size: method1 (50 —Å—Ç—Ä–æ–∫)
// - method_size: method2 (45 —Å—Ç—Ä–æ–∫)
// - duplicate_code: 85% similarity –º–µ–∂–¥—É method1 –∏ method2
```

**‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**
1. –ò–∑–≤–ª–µ—á—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
2. –†–µ–∑—É–ª—å—Ç–∞—Ç: –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—á–µ–∑–ª–æ, –Ω–æ –º–µ—Ç–æ–¥—ã –≤—Å—ë –µ—â–µ –æ–≥—Ä–æ–º–Ω—ã–µ

**‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:**
1. **–°–ù–ê–ß–ê–õ–ê** —Ä–∞–∑–±–∏—Ç—å method1 –Ω–∞ 5 –º–∞–ª–µ–Ω—å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
2. **–°–ù–ê–ß–ê–õ–ê** —Ä–∞–∑–±–∏—Ç—å method2 –Ω–∞ 5 –º–∞–ª–µ–Ω—å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
3. **–ó–ê–ü–£–°–¢–ò–¢–¨** –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
   ```bash
   npm start -- --file=TheFile.php
   ```
4. **–ü–û–¢–û–ú** —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
5. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∂–µ –∏—Å—á–µ–∑–ª–æ!

### üö® –°—Ü–µ–Ω–∞—Ä–∏–π 2: N+1 + Architecture

**–ü—Ä–æ–±–ª–µ–º–∞:**
```php
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ:
public function index() {
    $users = User::all();
    foreach ($users as $user) {
        echo $user->posts->count(); // N+1!
        echo $user->comments->count(); // N+1!
    }
}
```

**‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:**

1. **–°–Ω–∞—á–∞–ª–∞** –∏—Å–ø—Ä–∞–≤–∏—Ç—å N+1:
```php
$users = User::with(['posts', 'comments'])->get();
```

2. **–ü–æ—Ç–æ–º** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```php
// UserService.php
public function getUsersWithStats() {
    return User::with(['posts', 'comments'])->get();
}
```

### üö® –°—Ü–µ–Ω–∞—Ä–∏–π 3: Security + Performance

**–ü—Ä–æ–±–ª–µ–º–∞:**
```php
// SQL Injection + –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã
$name = $request->name;
$users = DB::raw("SELECT * FROM users WHERE name = '$name'");
```

**‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```php
// –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –û–ë–ï –ø—Ä–æ–±–ª–µ–º—ã —Å—Ä–∞–∑—É
$users = User::where('name', $request->validated('name'))
    ->limit(100)
    ->get(['id', 'name', 'email']); // —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏
```

---

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –≤ Cursor

#### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å MASTER_PROMPT
```bash
cursor refactoring/cursor-prompts/MASTER_PROMPT.md
```

#### –®–∞–≥ 2: –ù–∞–π—Ç–∏ —Ñ–∞–π–ª —Å Critical –ø—Ä–æ–±–ª–µ–º–∞–º–∏
–í MASTER_PROMPT –≤–∏–¥–∏–º:
```markdown
### –§–∞–∑–∞ 1: Security (Critical)
1. `app/Http/Controllers/OrderController.php` - 8 –ø—Ä–æ–±–ª–µ–º
   - –ü—Ä–æ–º–ø—Ç: —Å–º. `app_Http_Controllers_OrderController.md`
```

#### –®–∞–≥ 3: –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–º–ø—Ç —Ñ–∞–π–ª–∞
```bash
cursor refactoring/cursor-prompts/app_Http_Controllers_OrderController.md
```

#### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏–∑ `.md` —Ñ–∞–π–ª–∞

#### –®–∞–≥ 5: –í Cursor AI
```
@app/Http/Controllers/OrderController.php

[–í–°–¢–ê–í–ò–¢–¨ –°–ö–û–ü–ò–†–û–í–ê–ù–ù–´–ô –ü–†–û–ú–ü–¢]
```

#### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
npm start -- --file=app/Http/Controllers/OrderController.php

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# ‚úì 0 critical issues
```

---

### –ü—Ä–∏–º–µ—Ä 2: Workflow –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# 1. –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
npm start -- --path=/project --refactor-dir=refactoring

# 2. –û—Ç–∫—Ä—ã—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω
cursor refactoring/cursor-prompts/MASTER_PROMPT.md

# 3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ Critical
# (–∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ–º–ø—Ç—ã –∏–∑ cursor-prompts/)

# 4. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ Critical —Ñ–∞–π–ª–æ–≤
npm start -- --files="File1.php,File2.php,File3.php"

# 5. –ò—Å–ø—Ä–∞–≤–∏—Ç—å Major
# ...

# 6. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
npm start -- --path=/project --compact
```

---

### –ü—Ä–∏–º–µ—Ä 3: –ë–æ–ª—å—à–æ–π –º–µ—Ç–æ–¥ ‚Üí –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:**
```php
class ProductController {
    public function processOrder($orderId) {
        // 60 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
        $order = Order::find($orderId);
        // –≤–∞–ª–∏–¥–∞—Ü–∏—è (15 —Å—Ç—Ä–æ–∫)
        // —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω—ã (20 —Å—Ç—Ä–æ–∫)
        // –æ—Ç–ø—Ä–∞–≤–∫–∞ email (15 —Å—Ç—Ä–æ–∫)
        // –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (10 —Å—Ç—Ä–æ–∫)
    }
    
    public function processRefund($orderId) {
        // 55 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
        $order = Order::find($orderId);
        // –≤–∞–ª–∏–¥–∞—Ü–∏—è (15 —Å—Ç—Ä–æ–∫) - –ü–û–•–û–ñ–ê –Ω–∞ processOrder!
        // —Ä–∞—Å—á–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ (20 —Å—Ç—Ä–æ–∫)
        // –æ—Ç–ø—Ä–∞–≤–∫–∞ email (15 —Å—Ç—Ä–æ–∫) - –ü–û–•–û–ñ–ê –Ω–∞ processOrder!
        // –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (10 —Å—Ç—Ä–æ–∫) - –ü–û–•–û–ñ–ê –Ω–∞ processOrder!
    }
}
```

**–ê–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- `method_size`: processOrder (60 —Å—Ç—Ä–æ–∫)
- `method_size`: processRefund (55 —Å—Ç—Ä–æ–∫)
- `duplicate_code`: 70% similarity

**‚ùå –ï—Å–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ä–∞–∑—É:**
```php
// –ò–∑–≤–ª–µ–∫–ª–∏ –æ–±—â–∏–π –∫–æ–¥
private function sendEmail($order) { ... }
private function log($order) { ... }

// –ù–æ –º–µ—Ç–æ–¥—ã –í–°–ï –ï–©–ï –æ–≥—Ä–æ–º–Ω—ã–µ!
public function processOrder($orderId) {
    // 30 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
}
```

**‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**

**–®–∞–≥ 1:** –†–∞–∑–±–∏—Ç—å processOrder
```php
public function processOrder($orderId) {
    $order = $this->findOrder($orderId);
    $this->validateOrder($order);
    $total = $this->calculateTotal($order);
    $this->sendOrderEmail($order);
    $this->logOrder($order, 'processed');
}

private function findOrder($id) { ... }
private function validateOrder($order) { ... }
private function calculateTotal($order) { ... }
private function sendOrderEmail($order) { ... }
private function logOrder($order, $action) { ... }
```

**–®–∞–≥ 2:** –†–∞–∑–±–∏—Ç—å processRefund
```php
public function processRefund($orderId) {
    $order = $this->findOrder($orderId);
    $this->validateRefund($order);
    $amount = $this->calculateRefund($order);
    $this->sendRefundEmail($order);
    $this->logOrder($order, 'refunded');
}

private function validateRefund($order) { ... }
private function calculateRefund($order) { ... }
private function sendRefundEmail($order) { ... }
```

**–®–∞–≥ 3:** –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
```bash
npm start -- --file=app/Http/Controllers/ProductController.php
```

**–®–∞–≥ 4:** –¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ —Ä–µ–∞–ª—å–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
```
duplicate_code: findOrder –∏ logOrder –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ–±–æ–∏—Ö –º–µ—Ç–æ–¥–∞—Ö
```

**–®–∞–≥ 5:** –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
```php
// –û–±—â–∏–µ –º–µ—Ç–æ–¥—ã —É–∂–µ –∏–∑–≤–ª–µ—á–µ–Ω—ã!
// –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã - –æ—Ç–¥–µ–ª—å–Ω–æ
// –ö–æ–¥ —á–∏—Å—Ç—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π
```

---

## üí° –°–æ–≤–µ—Ç—ã

### 1. –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å MASTER_PROMPT
–û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–µ–∫–ª–∏—Å—Ç—ã
–í –∫–∞–∂–¥–æ–º –ø—Ä–æ–º–ø—Ç–µ –µ—Å—Ç—å ‚úÖ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ –Ω–∏–º

### 3. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
npm start -- --file=ChangedFile.php
```

### 4. –ö–æ–º–º–∏—Ç—å—Ç–µ –ø–æ—ç—Ç–∞–ø–Ω–æ
```bash
git commit -m "fix(security): resolve SQL injection in OrderController"
git commit -m "refactor: extract methods in OrderController"
git commit -m "refactor: remove code duplication in OrderController"
```

### 5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ git stash –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏
```bash
# –ò—Å–ø—Ä–∞–≤–∏–ª–∏ Critical
git add .
git commit -m "fix: resolve all critical security issues"

# –ù–∞—á–∏–Ω–∞–µ–º Major
npm start -- --path=. --refactor-dir=refactoring
```

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π workflow

```bash
# –î–µ–Ω—å 1: Security
npm start -- --compact
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ Critical –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ–º–ø—Ç—ã
git commit -m "fix: resolve critical security issues"

# –î–µ–Ω—å 2: Performance
npm start -- --compact
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å N+1 queries
git commit -m "perf: add eager loading to prevent N+1 queries"

# –î–µ–Ω—å 3: Refactoring
npm start -- --compact
# –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã
git commit -m "refactor: split large methods into smaller ones"

# –î–µ–Ω—å 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
npm start -- --path=.
# !! –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ !!
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –æ—Å—Ç–∞–ª–æ—Å—å)
git commit -m "refactor: remove code duplication"

# –î–µ–Ω—å 5: Architecture
# Service Layer, Repository, etc.
git commit -m "refactor: implement service layer"

# –î–µ–Ω—å 6: Polish
# Code smells, documentation
git commit -m "style: improve code quality"
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ANALYZERS.md](./ANALYZERS.md) - –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- [WHATS_NEW.md](./WHATS_NEW.md) - –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- [QUICK_START_V2.md](./QUICK_START_V2.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

---

## ‚ùì FAQ

### Q: –ù—É–∂–Ω–æ –ª–∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç–∞–º —Ç–æ—á–Ω–æ?
A: –ù–µ—Ç, —ç—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏. Cursor AI –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ª—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ.

### Q: –ú–æ–∂–Ω–æ –ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã?
A: –î–∞! –û–Ω–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown - —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ.

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ Cursor –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–º–ø—Ç?
A: –£–ø—Ä–æ—Å—Ç–∏—Ç–µ –ø—Ä–æ–º–ø—Ç, –æ—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É.

### Q: –°–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞ —Ä–∞–∑?
A: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É —Ç–∏–ø—É –ø—Ä–æ–±–ª–µ–º –∑–∞ —Ä–∞–∑ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ SQL Injection, –ø–æ—Ç–æ–º –≤—Å–µ N+1).

### Q: –ù—É–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è?
A: –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ, –Ω–æ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –ø–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤!

---

üöÄ **–£–¥–∞—á–∏ –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ!**

