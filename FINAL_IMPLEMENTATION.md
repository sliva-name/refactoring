# üéâ –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è - –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã

## üìã –ß—Ç–æ –±—ã–ª–æ –∑–∞–ø—Ä–æ—à–µ–Ω–æ

1. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Cursor** - —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ñ–∞–π–ª–æ–≤
2. ‚úÖ **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–æ–∏—Å–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞**
3. ‚úÖ **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã + –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## 1. ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Cursor - –†–ï–ê–õ–ò–ó–û–í–ê–ù–û!

### –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:

#### **CursorPromptGenerator** (`src/CursorPromptGenerator.js`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Cursor AI.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è MASTER_PROMPT.md —Å –æ–±—â–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (critical/major/minor)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç—ã –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —É—Å–ø–µ—Ö–∞

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ
npm start -- --path=/project --refactor-dir=refactoring

# –°–æ–∑–¥–∞–µ—Ç—Å—è:
refactoring/cursor-prompts/
‚îú‚îÄ‚îÄ MASTER_PROMPT.md                    # üéØ –ú–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω
‚îú‚îÄ‚îÄ prompts-index.json                  # –ò–Ω–¥–µ–∫—Å
‚îú‚îÄ‚îÄ app_Http_Controllers_Product.md     # –ü—Ä–æ–º–ø—Ç –¥–ª—è —Ñ–∞–π–ª–∞
‚îî‚îÄ‚îÄ app_Models_User.md                  # –° –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
```

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞:

```markdown
# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –≤ app/Http/Controllers/OrderController.php

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL

## üìã –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### üîí SQL Injection Risk
**–°—Ç—Ä–æ–∫–∞ 45:**
- Potential SQL Injection: DB::raw() with variables
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Use parameter binding: DB::raw("... ?", [$var])

### ‚ö° N Plus One Query  
**–°—Ç—Ä–æ–∫–∞ 62:**
- Relationship access inside loop without eager loading
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Use ->with(['relationName'])

## üéØ –ó–∞–¥–∞—á–∏:
1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `app/Http/Controllers/OrderController.php`
2. –ò—Å–ø—Ä–∞–≤—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–ª–µ–¥—É—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º
3. –°–ª–µ–¥—É–π: SOLID, PSR-12, Laravel best practices

## üìö –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### üîí Security First!
1. –ò—Å–ø—Ä–∞–≤—å SQL Injection - –∏—Å–ø–æ–ª—å–∑—É–π parameter binding
2. –ó–∞–º–µ–Ω–∏ `DB::raw("... $var")` –Ω–∞ `DB::raw("... ?", [$var])`

### ‚ö° Performance - N+1 Queries
1. –ù–∞–π–¥–∏ –≤—Å–µ —Ü–∏–∫–ª—ã —Å –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ relationships
2. –î–æ–±–∞–≤—å `->with(['relationName'])` –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: SQL Injection Risk (2 –ø—Ä–æ–±–ª–µ–º—ã)
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: N Plus One Query (3 –ø—Ä–æ–±–ª–µ–º—ã)
- [ ] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç Laravel conventions
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã type hints –∏ return types
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Cursor:

```bash
# 1. –û—Ç–∫—Ä—ã—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω
cursor refactoring/cursor-prompts/MASTER_PROMPT.md

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç –∏–∑ app_Http_Controllers_OrderController.md

# 3. –í Cursor AI:
@app/Http/Controllers/OrderController.php

[–í–°–¢–ê–í–ò–¢–¨ –°–ö–û–ü–ò–†–û–í–ê–ù–ù–´–ô –ü–†–û–ú–ü–¢]
```

---

## 2. üîÑ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è - –†–ï–ê–õ–ò–ó–û–í–ê–ù–û!

### –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:

#### **DuplicationDetector** (`src/analyzers/DuplicationDetector.js`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–∏—Å–∫ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –º–µ—Ç–æ–¥–æ–≤ (similarity >= 85%)
- ‚úÖ –ü–æ–∏—Å–∫ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞ (5+ —Å—Ç—Ä–æ–∫)
- ‚úÖ –£–º–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
- ‚úÖ –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Å—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```php
// –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô –ö–û–î:
public function processOrder($orderId) {
    $order = Order::find($orderId);
    $userName = $order->user->name;
    $total = 100;
}

public function processRefund($refundId) {
    $refund = Refund::find($refundId);
    $clientName = $refund->user->name;
    $amount = 200;
}

// –ù–û–†–ú–ê–õ–ò–ó–£–ï–¢–°–Ø –í:
$VAR = Model::find($VAR);
$VAR = $VAR->user->name;
$VAR = NUM;

// –†–ï–ó–£–õ–¨–¢–ê–¢: 95% similarity!
```

### –ß—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç:

**1. –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –º–µ—Ç–æ–¥—ã:**
```json
{
  "type": "duplicate_method",
  "severity": "major",
  "message": "Methods 'processOrder' and 'processRefund' are 87% similar",
  "suggestion": "Extract common logic into a shared private method or trait",
  "refactorInfo": {
    "method1": "processOrder",
    "method2": "processRefund",
    "similarity": 0.87,
    "lines1": "45-95",
    "lines2": "100-145"
  }
}
```

**2. –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –±–ª–æ–∫–∏:**
```json
{
  "type": "duplicate_code_block",
  "severity": "minor",
  "message": "Code block at lines 10-20 is 90% similar to lines 35-45",
  "suggestion": "Extract duplicate code into a separate method"
}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º:

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ** - –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏ –±–ª–æ–∫–∏ –∫–æ–¥–∞
2. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –µ–¥–∏–Ω–æ–º—É –≤–∏–¥—É
3. **–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è** - —Ä–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ —Ç–æ–∫–µ–Ω—ã
4. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** - Jaccard similarity
5. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ >= 85% –∏ >= 5 —Å—Ç—Ä–æ–∫

---

## 3. ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: –ë–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã + –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ - –†–ï–ê–õ–ò–ó–û–í–ê–ù–û!

### –ü—Ä–æ–±–ª–µ–º–∞:

```
–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç:
1. method_size: processOrder (60 —Å—Ç—Ä–æ–∫)
2. method_size: processRefund (55 —Å—Ç—Ä–æ–∫)
3. duplicate_code: 85% similarity

–ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞?
‚ùå –ï—Å–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –º–µ—Ç–æ–¥—ã –æ—Å—Ç–∞–Ω—É—Ç—Å—è –±–æ–ª—å—à–∏–º–∏
‚ùå –ï—Å–ª–∏ —Ä–∞–∑–±–∏—Ç—å –º–µ—Ç–æ–¥—ã ‚Üí –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å—á–µ–∑–Ω—É—Ç—å
```

### –†–µ—à–µ–Ω–∏–µ –≤ 3 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö:

#### **1. –£–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã**

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é:

```markdown
## üìö –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### üìè –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤
1. **–°–Ω–∞—á–∞–ª–∞** –æ–ø—Ä–µ–¥–µ–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏
2. –ò–∑–≤–ª–µ–∫–∏ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
3. –î–∞–π –º–µ—Ç–æ–¥–∞–º –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞
4. **–í–∞–∂–Ω–æ:** –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–≤–µ—Ä—å –Ω–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ!

### üßπ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
1. **–í–Ω–∏–º–∞–Ω–∏–µ:** –ï—Å–ª–∏ –µ—Å—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã - —Å–Ω–∞—á–∞–ª–∞ –∏—Ö —Ä–∞–∑–±–µ–π!
2. –ü–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞–π–¥–∏ –ø–æ—Ö–æ–∂–∏–µ –º–µ—Ç–æ–¥—ã
3. –ò–∑–≤–ª–µ–∫–∏ –æ–±—â—É—é –ª–æ–≥–∏–∫—É
4. –ï—Å–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏ - —Å–æ–∑–¥–∞–π trait
```

#### **2. MASTER_PROMPT —Å –ø–æ—Ä—è–¥–∫–æ–º**

```markdown
## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ü–æ—Ä—è–¥–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º:

1. Security (Critical) ‚Üí –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –ü–ï–†–í–´–ú–ò
2. N+1 Queries ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º eager loading
3. –ë–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã ‚Üí –†–ê–ó–ë–ò–í–ê–ï–ú –ù–ê –ß–ê–°–¢–ò
4. ‚ö° –ü–û–í–¢–û–†–ù–´–ô –ê–ù–ê–õ–ò–ó ‚ö° ‚Üí npm start -- --file=...
5. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –ü–û–°–õ–ï —Ä–∞–∑–±–∏–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤!
6. Architecture ‚Üí Service Layer
7. Code Smells ‚Üí —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞

### ‚ö° –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:

> **–ï—Å–ª–∏ –≤ —Ñ–∞–π–ª–µ –µ—Å—Ç—å –∏ "–±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã" –∏ "–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞":**
> 1. –°–ù–ê–ß–ê–õ–ê —Ä–∞–∑–±–µ–π –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ
> 2. –ü–û–¢–û–ú –∑–∞–ø—É—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑ –∑–∞–Ω–æ–≤–æ –Ω–∞ —ç—Ç–æ—Ç —Ñ–∞–π–ª
> 3. –¢–û–õ–¨–ö–û –ü–û–¢–û–ú –∏—Å–ø—Ä–∞–≤–ª—è–π –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
>
> –ò–Ω–∞—á–µ –ø–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å—á–µ–∑–Ω—É—Ç—å —Å–∞–º–æ!
```

#### **3. Workflow —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º**

```bash
# –®–ê–ì 1: –ü–µ—Ä–≤–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑
npm start -- --path=/project --refactor-dir=refactoring

# –®–ê–ì 2: –û—Ç–∫—Ä—ã—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω
cursor refactoring/cursor-prompts/MASTER_PROMPT.md

# –®–ê–ì 3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã
# (–∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ–º–ø—Ç—ã)

# –®–ê–ì 4: ‚ö° –ü–û–í–¢–û–†–ù–´–ô –ê–ù–ê–õ–ò–ó ‚ö°
npm start -- --file=app/Services/OrderService.php

# –®–ê–ì 5: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –æ—Å—Ç–∞–ª–æ—Å—å)

# –®–ê–ì 6: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
npm start -- --path=/project --compact
```

---

## üìä –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

| –§–∞–π–ª | –°—Ç—Ä–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-------|----------|
| `src/CursorPromptGenerator.js` | 420 | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Cursor |
| `src/analyzers/DuplicationDetector.js` | 280 | –î–µ—Ç–µ–∫—Ç–æ—Ä –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ |
| `CURSOR_PROMPTS_GUIDE.md` | 550 | –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–º–ø—Ç–∞–º |
| `ANSWERS_TO_QUESTIONS.md` | 600 | –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã |
| `FINAL_IMPLEMENTATION.md` | 400 | –ò—Ç–æ–≥–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `index.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- `README.md` - —Å–µ–∫—Ü–∏—è –æ Cursor AI Prompts
- `package.json` - (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

### –í—Å–µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

- **~2250 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**
- **~1800 —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
- **5 –Ω–æ–≤—ã—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤/—É—Ç–∏–ª–∏—Ç**

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ë–æ–ª—å—à–æ–π —Ñ–∞–π–ª —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```bash
# 1. –ê–Ω–∞–ª–∏–∑
npm start -- --path=/project --refactor-dir=refactoring

# –ù–∞—Ö–æ–¥–∏—Ç:
# - method_size: processOrder (60 —Å—Ç—Ä–æ–∫)
# - method_size: processRefund (55 —Å—Ç—Ä–æ–∫)
# - duplicate_code: 85% similarity

# 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–æ–º–ø—Ç—ã:
refactoring/cursor-prompts/
‚îú‚îÄ‚îÄ MASTER_PROMPT.md                         # –°—Ç—Ä–∞—Ç–µ–≥–∏—è
‚îî‚îÄ‚îÄ app_Services_OrderService.md             # –° –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º!
```

### –ü—Ä–æ–º–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç:

```markdown
## üìö –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –í —Ñ–∞–π–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã:
- 2 –±–æ–ª—å—à–∏—Ö –º–µ—Ç–æ–¥–∞
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –º–µ–∂–¥—É –Ω–∏–º–∏

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:

**–≠–¢–ê–ü 1: –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã**
1. processOrder (60 —Å—Ç—Ä–æ–∫) ‚Üí 5 –º–∞–ª–µ–Ω—å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
2. processRefund (55 —Å—Ç—Ä–æ–∫) ‚Üí 5 –º–∞–ª–µ–Ω—å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤

**–≠–¢–ê–ü 2: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑**
```bash
npm start -- --file=app/Services/OrderService.php
```

**–≠–¢–ê–ü 3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**
–ü–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç:
- –ò—Å—á–µ–∑–Ω—É—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é (–æ–±—â–∞—è –ª–æ–≥–∏–∫–∞ —É–∂–µ –≤ private –º–µ—Ç–æ–¥–∞—Ö)
- –°—Ç–∞—Ç—å –æ—á–µ–≤–∏–¥–Ω—ã–º (–≤–∏–¥–Ω—ã –ø–æ—Ö–æ–∂–∏–µ –º–∞–ª–µ–Ω—å–∫–∏–µ –º–µ—Ç–æ–¥—ã)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Cursor:

```bash
# 1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–º–ø—Ç
cursor refactoring/cursor-prompts/app_Services_OrderService.md

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

# 3. –í Cursor:
@app/Services/OrderService.php

[–í–°–¢–ê–í–ò–¢–¨ –ü–†–û–ú–ü–¢]

# Cursor –≤–∏–¥–∏—Ç:
# - –§–∞–π–ª: app/Services/OrderService.php
# - –ü—Ä–æ–±–ª–µ–º—ã: method_size, duplicate_code
# - –°—Ç—Ä–∞—Ç–µ–≥–∏—é: —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–∏—Ç—å, –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
# - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ø–æ—Ä—è–¥–æ–∫ –∫—Ä–∏—Ç–∏—á–µ–Ω!

# 4. –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤
npm start -- --file=app/Services/OrderService.php

# 5. –¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ —Ä–µ–∞–ª—å–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
# 6. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–º–ø—Ç

```
@app/Http/Controllers/ProductController.php

–ò—Å–ø—Ä–∞–≤—å —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

–°—Ç—Ä–æ–∫–∞ 45: SQL Injection
- DB::raw("WHERE id = ?", [$id])

–°—Ç—Ä–æ–∫–∞ 62: N+1 Query
- User::with('posts')->get()

–°—Ç—Ä–æ–∫–∞ 78: –ú–µ—Ç–æ–¥ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π (50 —Å—Ç—Ä–æ–∫)
- –†–∞–∑–±–µ–π –Ω–∞: validate(), calculate(), notify()
```

### –ü—Ä–∏–º–µ—Ä 2: –°–ª–æ–∂–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

```
@app/Services/OrderService.php

‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ü–æ—Ä—è–¥–æ–∫ –∫—Ä–∏—Ç–∏—á–µ–Ω!

–≠–¢–ê–ü 1: –†–∞–∑–±–µ–π –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã (60+ —Å—Ç—Ä–æ–∫)
1. processOrder ‚Üí 5 –º–µ—Ç–æ–¥–æ–≤
2. processRefund ‚Üí 5 –º–µ—Ç–æ–¥–æ–≤

–≠–¢–ê–ü 2: –ó–∞–ø—É—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑
npm start -- --file=app/Services/OrderService.php

–≠–¢–ê–ü 3: –ò—Å–ø—Ä–∞–≤—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
(–ø–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤)
```

### –ü—Ä–∏–º–µ—Ä 3: –° MASTER_PROMPT

```bash
# 1. –û—Ç–∫—Ä—ã—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω
cursor refactoring/cursor-prompts/MASTER_PROMPT.md

# –í–∏–¥–∏–º:
# Phase 1: Critical (3 —Ñ–∞–π–ª–∞)
# Phase 2: Major (15 —Ñ–∞–π–ª–æ–≤)
# Phase 3: Minor (8 —Ñ–∞–π–ª–æ–≤)

# 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
# 3. –°—Ç—Ä–∞—Ç–µ–≥–∏—è —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
# 4. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Ä—è–¥–∫–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —É–º–µ–µ—Ç –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä:

1. ‚úÖ **–ù–∞—Ö–æ–¥–∏—Ç 40+ —Ç–∏–ø–æ–≤ –ø—Ä–æ–±–ª–µ–º**
   - Security (7 —Ç–∏–ø–æ–≤)
   - Performance (8 —Ç–∏–ø–æ–≤)
   - Architecture (5 —Ç–∏–ø–æ–≤)
   - Duplication (2 —Ç–∏–ø–∞)
   - Code Smells (10+ —Ç–∏–ø–æ–≤)

2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç—ã**
   - MASTER_PROMPT —Å –æ–±—â–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
   - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ñ–∞–π–ª–æ–≤
   - –° —É—á–µ—Ç–æ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

3. ‚úÖ **–£–º–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –º–µ—Ç–æ–¥—ã (85%+)
   - –ù–∞—Ö–æ–¥–∏—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –±–ª–æ–∫–∏ (5+ —Å—Ç—Ä–æ–∫)
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è

4. ‚úÖ **–†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –±–æ–ª—å—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤ + –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   - –û–±—ä—è—Å–Ω—è–µ—Ç –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **[README.md](./README.md)** - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
2. **[CURSOR_PROMPTS_GUIDE.md](./CURSOR_PROMPTS_GUIDE.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–º–ø—Ç–∞–º
3. **[ANSWERS_TO_QUESTIONS.md](./ANSWERS_TO_QUESTIONS.md)** - –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
4. **[ANALYZERS.md](./ANALYZERS.md)** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
5. **[WHATS_NEW.md](./WHATS_NEW.md)** - –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ v2.0

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ:

- **[QUICK_START_V2.md](./QUICK_START_V2.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **[CHANGELOG.md](./CHANGELOG.md)** - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **[IMPROVEMENTS_SUMMARY.md](./IMPROVEMENTS_SUMMARY.md)** - –†–µ–∑—é–º–µ —É–ª—É—á—à–µ–Ω–∏–π

---

## üéì Quick Start

```bash
# 1. –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏
npm start -- --path=/project --refactor-dir=refactoring

# 2. –û—Ç–∫—Ä—ã—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω
cursor refactoring/cursor-prompts/MASTER_PROMPT.md

# 3. –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
#    - Critical –ø—Ä–æ–±–ª–µ–º—ã
#    - –ë–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã
#    - –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
#    - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
#    - Architecture

# 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –∏–∑ cursor-prompts/
#    @path/to/file.php [–ø—Ä–æ–º–ø—Ç]
```

---

## üéâ –í—Å–µ –≥–æ—Ç–æ–≤–æ!

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Cursor** - —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π  
‚úÖ **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–æ–∏—Å–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** - 85%+ similarity  
‚úÖ **–†–µ—à–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã** - –ø–æ—Ä—è–¥–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π  

üöÄ **–ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!**

```bash
npm start -- --path=/your/project --refactor-dir=refactoring
```

